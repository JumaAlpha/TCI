<section class="events-section">
    <div class="events-bg-pattern"></div>
    
    <div class="events-header">
        <h2 class="events-title">Upcoming Events</h2>
        <p class="events-subtitle">Join us for special gatherings, conferences, and community activities</p>
        <div class="events-view-toggle">
            <button class="view-toggle-btn active" data-view="grid">Grid View</button>
            <button class="view-toggle-btn" data-view="calendar">Calendar View</button>
        </div>
    </div>
    
    <!-- Grid View -->
    <div class="events-grid-container active" id="gridView">
        <div class="events-grid">
            <!-- Event 1: Special Conference -->
            <div class="event-card featured">
                <div class="event-badge">‚ú® FEATURED EVENT</div>
                
                <div class="event-image">
                    <img src="https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                         alt="Healing Conference">
                    <div class="event-date">
                        <span class="date-day">25</span>
                        <span class="date-month">JAN</span>
                    </div>
                </div>
                
                <div class="event-content">
                    <h3 class="event-name">Annual Healing & Deliverance Conference</h3>
                    
                    <div class="event-details">
                        <div class="event-detail">
                            <span class="detail-icon">üìÖ</span>
                            <span class="detail-text">January 25-27, 2024</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">‚è∞</span>
                            <span class="detail-text">6:00 PM Daily</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">üìç</span>
                            <span class="detail-text">Main Auditorium</span>
                        </div>
                    </div>
                    
                    <p class="event-description">
                        Three powerful nights of healing, deliverance, and prophetic ministry. 
                        Special guest ministers from around the world.
                    </p>
                    
                    <div class="event-actions">
                        <button class="event-register-btn">Register Now</button>
                        <button class="event-share-btn" data-event="healing-conference">
                            <span>üì§ Share</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Event 2: Community Outreach -->
            <div class="event-card">
                <div class="event-image">
                    <img src="https://images.unsplash.com/photo-1544809046-bb4777a241c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                         alt="Community Outreach">
                    <div class="event-date">
                        <span class="date-day">10</span>
                        <span class="date-month">FEB</span>
                    </div>
                </div>
                
                <div class="event-content">
                    <h3 class="event-name">Community Outreach & Food Drive</h3>
                    
                    <div class="event-details">
                        <div class="event-detail">
                            <span class="detail-icon">üìÖ</span>
                            <span class="detail-text">February 10, 2024</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">‚è∞</span>
                            <span class="detail-text">9:00 AM - 2:00 PM</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">üìç</span>
                            <span class="detail-text">Community Center</span>
                        </div>
                    </div>
                    
                    <p class="event-description">
                        Join us as we serve our community with food distribution, 
                        clothing giveaway, and prayer ministry.
                    </p>
                    
                    <div class="event-actions">
                        <button class="event-volunteer-btn">Volunteer</button>
                        <button class="event-share-btn" data-event="outreach">
                            <span>üì§ Share</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Event 3: Youth Camp -->
            <div class="event-card">
                <div class="event-image">
                    <img src="https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                         alt="Youth Camp">
                    <div class="event-date">
                        <span class="date-day">15</span>
                        <span class="date-month">MAR</span>
                    </div>
                </div>
                
                <div class="event-content">
                    <h3 class="event-name">Youth Summer Camp: Awakening</h3>
                    
                    <div class="event-details">
                        <div class="event-detail">
                            <span class="detail-icon">üìÖ</span>
                            <span class="detail-text">March 15-17, 2024</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">‚è∞</span>
                            <span class="detail-text">Friday 5 PM - Sunday 3 PM</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">üìç</span>
                            <span class="detail-text">Camp Site</span>
                        </div>
                    </div>
                    
                    <p class="event-description">
                        A transformative weekend for youth with worship, teaching, 
                        outdoor activities, and spiritual growth.
                    </p>
                    
                    <div class="event-actions">
                        <button class="event-register-btn">Register</button>
                        <button class="event-share-btn" data-event="youth-camp">
                            <span>üì§ Share</span>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Event 4: Couples Retreat -->
            <div class="event-card">
                <div class="event-image">
                    <img src="https://images.unsplash.com/photo-1577896851231-70ef18881754?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" 
                         alt="Couples Retreat">
                    <div class="event-date">
                        <span class="date-day">5</span>
                        <span class="date-month">APR</span>
                    </div>
                </div>
                
                <div class="event-content">
                    <h3 class="event-name">Marriage Enrichment Retreat</h3>
                    
                    <div class="event-details">
                        <div class="event-detail">
                            <span class="detail-icon">üìÖ</span>
                            <span class="detail-text">April 5-7, 2024</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">‚è∞</span>
                            <span class="detail-text">Friday 6 PM - Sunday 2 PM</span>
                        </div>
                        <div class="event-detail">
                            <span class="detail-icon">üìç</span>
                            <span class="detail-text">Retreat Center</span>
                        </div>
                    </div>
                    
                    <p class="event-description">
                        Strengthen your marriage through biblical teaching, 
                        couples activities, and intentional time together.
                    </p>
                    
                    <div class="event-actions">
                        <button class="event-register-btn">Book Now</button>
                        <button class="event-share-btn" data-event="couples-retreat">
                            <span>üì§ Share</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="events-load-more">
            <button class="load-more-btn" id="loadMoreEvents">
                <span>Load More Events</span>
                <span class="arrow">‚Üì</span>
            </button>
        </div>
    </div>
    
    <!-- Calendar View -->
    <div class="events-calendar-container" id="calendarView">
        <div class="calendar-header">
            <button class="calendar-nav-btn" id="prevMonth">‚Üê</button>
            <h3 class="calendar-month-year" id="currentMonthYear">January 2024</h3>
            <button class="calendar-nav-btn" id="nextMonth">‚Üí</button>
        </div>
        
        <div class="calendar-weekdays">
            <div class="weekday">Sun</div>
            <div class="weekday">Mon</div>
            <div class="weekday">Tue</div>
            <div class="weekday">Wed</div>
            <div class="weekday">Thu</div>
            <div class="weekday">Fri</div>
            <div class="weekday">Sat</div>
        </div>
        
        <div class="calendar-days" id="calendarDays">
            <!-- Days will be generated by JavaScript -->
        </div>
        
        <div class="calendar-legend">
            <div class="legend-item">
                <span class="legend-color" style="background: var(--lime-green);"></span>
                <span class="legend-text">Church Service</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: var(--orange);"></span>
                <span class="legend-text">Special Event</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background: #8a2be2;"></span>
                <span class="legend-text">Community Activity</span>
            </div>
        </div>
    </div>
    
    <!-- Event Modal -->
    <div class="event-modal" id="eventModal">
        <div class="event-modal-content">
            <button class="event-modal-close">√ó</button>
            <div class="event-modal-body" id="eventModalBody">
                <!-- Event details will be loaded here -->
            </div>
        </div>
    </div>
</section>

<style>
/* Events Section */
.events-section {
    position: absolute;
    top: 600vh;
    left: 0;
    width: 100%;
    min-height: 100vh;
    background: #000;
    z-index: 3;
    padding: 80px 20px;
    overflow: hidden;
    transition: opacity 1s ease;
}

.events-bg-pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: 
        radial-gradient(circle at 10% 20%, rgba(50, 205, 50, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 90% 80%, rgba(255, 140, 0, 0.03) 0%, transparent 50%);
    z-index: -1;
}

.events-header {
    max-width: 1400px;
    margin: 0 auto 60px;
    text-align: center;
}

.events-title {
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 900;
    color: var(--orange);
    margin-bottom: 20px;
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s ease 0.3s;
}

.events-title.visible {
    opacity: 1;
    transform: translateY(0);
}

.events-subtitle {
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    color: var(--white);
    opacity: 0.8;
    margin-bottom: 40px;
    line-height: 1.4;
    max-width: 800px;
    margin-left: auto;
    margin-right: auto;
}

/* View Toggle */
.events-view-toggle {
    display: inline-flex;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    padding: 8px;
    gap: 10px;
}

.view-toggle-btn {
    padding: 12px 24px;
    background: transparent;
    border: none;
    border-radius: 50px;
    color: rgba(255, 255, 255, 0.6);
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 140px;
}

.view-toggle-btn.active {
    background: var(--orange);
    color: #000;
    box-shadow: 0 5px 15px rgba(255, 140, 0, 0.3);
}

.view-toggle-btn:hover:not(.active) {
    background: rgba(255, 255, 255, 0.1);
    color: var(--white);
}

/* Events Grid */
.events-grid-container {
    max-width: 1400px;
    margin: 0 auto;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease;
}

.events-grid-container.active {
    opacity: 1;
    transform: translateY(0);
}

.events-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 30px;
    margin-bottom: 60px;
}

.event-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    transform: translateY(50px);
}

.event-card.visible {
    opacity: 1;
    transform: translateY(0);
}

.event-card:nth-child(1) { transition-delay: 0.1s; }
.event-card:nth-child(2) { transition-delay: 0.2s; }
.event-card:nth-child(3) { transition-delay: 0.3s; }
.event-card:nth-child(4) { transition-delay: 0.4s; }

.event-card:hover {
    transform: translateY(-10px);
    border-color: var(--lime-green);
    box-shadow: 0 20px 40px rgba(50, 205, 50, 0.1);
}

.event-card.featured {
    border-color: var(--orange);
    grid-column: 1 / -1;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    align-items: center;
}

.event-badge {
    position: absolute;
    top: 20px;
    left: 20px;
    background: var(--orange);
    color: #000;
    padding: 8px 16px;
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    z-index: 2;
}

.event-image {
    position: relative;
    height: 250px;
    overflow: hidden;
}

.event-card.featured .event-image {
    height: 100%;
}

.event-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
}

.event-card:hover .event-image img {
    transform: scale(1.1);
}

.event-date {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.8);
    color: var(--white);
    padding: 15px;
    border-radius: 12px;
    text-align: center;
    min-width: 70px;
    backdrop-filter: blur(10px);
}

.date-day {
    display: block;
    font-size: 1.8rem;
    font-weight: 900;
    line-height: 1;
}

.date-month {
    display: block;
    font-size: 0.9rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 5px;
}

.event-content {
    padding: 30px;
}

.event-name {
    font-size: clamp(1.5rem, 2.5vw, 2rem);
    font-weight: 900;
    color: var(--white);
    margin-bottom: 20px;
    line-height: 1.2;
}

.event-details {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 20px;
}

.event-detail {
    display: flex;
    align-items: center;
    gap: 12px;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.95rem;
}

.detail-icon {
    font-size: 1.2rem;
    opacity: 0.8;
}

.event-description {
    color: rgba(255, 255, 255, 0.8);
    line-height: 1.5;
    margin-bottom: 25px;
    font-size: 1rem;
}

.event-actions {
    display: flex;
    gap: 15px;
}

.event-register-btn,
.event-volunteer-btn {
    flex: 1;
    padding: 14px;
    background: var(--lime-green);
    border: none;
    border-radius: 50px;
    color: #000;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.event-volunteer-btn {
    background: var(--orange);
}

.event-register-btn:hover,
.event-volunteer-btn:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 20px rgba(50, 205, 50, 0.3);
}

.event-share-btn {
    padding: 14px 20px;
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50px;
    color: var(--white);
    font-size: 0.95rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 8px;
}

.event-share-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    border-color: var(--lime-green);
}

/* Load More Button */
.events-load-more {
    text-align: center;
    margin-top: 40px;
}

.load-more-btn {
    padding: 16px 40px;
    background: transparent;
    border: 2px solid var(--orange);
    border-radius: 50px;
    color: var(--orange);
    font-size: 1.1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 12px;
}

.load-more-btn:hover {
    background: var(--orange);
    color: #000;
    transform: scale(1.05);
    box-shadow: 0 10px 20px rgba(255, 140, 0, 0.3);
}

.load-more-btn .arrow {
    font-size: 1.2rem;
    transition: transform 0.3s ease;
}

.load-more-btn:hover .arrow {
    transform: translateY(5px);
}

/* Calendar View */
.events-calendar-container {
    display: none;
    max-width: 1000px;
    margin: 0 auto;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 30px;
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease;
}

.events-calendar-container.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
}

.calendar-nav-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50px;
    color: var(--white);
    width: 50px;
    height: 50px;
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.calendar-nav-btn:hover {
    background: var(--orange);
    border-color: var(--orange);
    color: #000;
}

.calendar-month-year {
    font-size: clamp(1.5rem, 3vw, 2.5rem);
    font-weight: 900;
    color: var(--white);
    margin: 0 20px;
}

.calendar-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
    margin-bottom: 15px;
}

.weekday {
    text-align: center;
    color: var(--orange);
    font-weight: 700;
    padding: 15px 5px;
    font-size: 0.95rem;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.calendar-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 10px;
}

.calendar-day {
    aspect-ratio: 1;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    padding: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
}

.calendar-day:hover {
    background: rgba(50, 205, 50, 0.1);
    border-color: var(--lime-green);
}

.calendar-day.empty {
    background: transparent;
    border: none;
    cursor: default;
}

.calendar-day.today {
    background: rgba(255, 140, 0, 0.2);
    border-color: var(--orange);
}

.calendar-day-number {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--white);
    margin-bottom: 5px;
}

.calendar-day-events {
    position: absolute;
    bottom: 5px;
    left: 5px;
    right: 5px;
    display: flex;
    gap: 4px;
    flex-wrap: wrap;
}

.calendar-event-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
}

.calendar-legend {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 30px;
    padding-top: 30px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    flex-wrap: wrap;
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
}

.legend-color {
    width: 12px;
    height: 12px;
    border-radius: 50%;
}

.legend-text {
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
}

/* Event Modal */
.event-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.event-modal.active {
    display: flex;
}

.event-modal-content {
    background: #000;
    border: 2px solid var(--lime-green);
    border-radius: 20px;
    max-width: 800px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    animation: modalSlideIn 0.3s ease;
}

.event-modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: var(--orange);
    font-size: 2rem;
    cursor: pointer;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: background 0.3s ease;
    z-index: 2;
}

.event-modal-close:hover {
    background: rgba(255, 140, 0, 0.2);
}

.event-modal-body {
    padding: 40px;
}

/* Responsive Design */
@media (max-width: 1200px) {
    .event-card.featured {
        grid-template-columns: 1fr;
    }
    
    .event-card.featured .event-image {
        height: 300px;
    }
}

@media (max-width: 768px) {
    .events-section {
        padding: 60px 15px;
    }
    
    .events-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .view-toggle-btn {
        min-width: 120px;
        padding: 10px 20px;
        font-size: 0.9rem;
    }
    
    .calendar-weekdays,
    .calendar-days {
        gap: 5px;
    }
    
    .weekday {
        font-size: 0.8rem;
        padding: 10px 2px;
    }
    
    .calendar-day {
        padding: 5px;
    }
    
    .calendar-day-number {
        font-size: 1rem;
    }
    
    .event-actions {
        flex-direction: column;
    }
    
    .event-modal-body {
        padding: 30px 20px;
    }
}

@media (max-width: 480px) {
    .events-section {
        padding: 40px 10px;
    }
    
    .events-view-toggle {
        flex-direction: column;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
    }
    
    .view-toggle-btn {
        width: 100%;
    }
    
    .calendar-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
    
    .calendar-nav-btn {
        width: 40px;
        height: 40px;
    }
    
    .calendar-legend {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
}
</style>

<script>
// Events section functionality
(function() {
    'use strict';
    
    document.addEventListener('DOMContentLoaded', function() {
        // Wait for events section to be loaded
        setTimeout(initEvents, 100);
    });
    
    function initEvents() {
        // Elements
        const viewToggleBtns = document.querySelectorAll('.view-toggle-btn');
        const gridView = document.getElementById('gridView');
        const calendarView = document.getElementById('calendarView');
        const eventsTitle = document.querySelector('.events-title');
        const eventCards = document.querySelectorAll('.event-card');
        const loadMoreBtn = document.getElementById('loadMoreEvents');
        const eventModal = document.getElementById('eventModal');
        const modalCloseBtn = document.querySelector('.event-modal-close');
        const eventShareBtns = document.querySelectorAll('.event-share-btn');
        
        // Calendar elements
        const prevMonthBtn = document.getElementById('prevMonth');
        const nextMonthBtn = document.getElementById('nextMonth');
        const currentMonthYear = document.getElementById('currentMonthYear');
        const calendarDays = document.getElementById('calendarDays');
        
        // State
        let currentView = 'grid';
        let eventsShown = false;
        let currentMonth = new Date().getMonth();
        let currentYear = new Date().getFullYear();
        
        // Sample events data for calendar
        const calendarEvents = {
            '2024-01-25': {
                title: 'Healing Conference',
                type: 'special-event',
                color: 'orange'
            },
            '2024-01-26': {
                title: 'Healing Conference',
                type: 'special-event',
                color: 'orange'
            },
            '2024-01-27': {
                title: 'Healing Conference',
                type: 'special-event',
                color: 'orange'
            },
            '2024-01-28': {
                title: 'Sunday Service',
                type: 'service',
                color: 'lime-green'
            },
            '2024-02-10': {
                title: 'Community Outreach',
                type: 'community',
                color: '#8a2be2'
            },
            '2024-02-14': {
                title: 'Wednesday Bible Study',
                type: 'service',
                color: 'lime-green'
            },
            '2024-03-15': {
                title: 'Youth Camp',
                type: 'special-event',
                color: 'orange'
            },
            '2024-03-16': {
                title: 'Youth Camp',
                type: 'special-event',
                color: 'orange'
            },
            '2024-03-17': {
                title: 'Youth Camp',
                type: 'special-event',
                color: 'orange'
            },
            '2024-04-05': {
                title: 'Marriage Retreat',
                type: 'special-event',
                color: 'orange'
            },
            '2024-04-06': {
                title: 'Marriage Retreat',
                type: 'special-event',
                color: 'orange'
            },
            '2024-04-07': {
                title: 'Marriage Retreat',
                type: 'special-event',
                color: 'orange'
            }
        };
        
        // Event details for modal
        const eventDetails = {
            'healing-conference': {
                title: 'Annual Healing & Deliverance Conference',
                date: 'January 25-27, 2024',
                time: '6:00 PM Daily',
                location: 'Main Auditorium',
                description: 'Three powerful nights of healing, deliverance, and prophetic ministry with special guest ministers from around the world. Experience the power of God in a transformative way.',
                details: [
                    'Guest speakers from international ministries',
                    'Worship led by anointed teams',
                    'Personal prayer ministry available',
                    'Childcare provided for all sessions'
                ],
                registrationLink: '#',
                image: 'https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
            },
            'outreach': {
                title: 'Community Outreach & Food Drive',
                date: 'February 10, 2024',
                time: '9:00 AM - 2:00 PM',
                location: 'Community Center',
                description: 'Join us as we serve our local community through food distribution, clothing giveaway, and prayer ministry. All are welcome to participate or volunteer.',
                details: [
                    'Food distribution for families in need',
                    'Clothing and essentials giveaway',
                    'Free health checkups',
                    'Prayer and counseling available'
                ],
                registrationLink: '#',
                image: 'https://images.unsplash.com/photo-1544809046-bb4777a241c9?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
            },
            'youth-camp': {
                title: 'Youth Summer Camp: Awakening',
                date: 'March 15-17, 2024',
                time: 'Friday 5 PM - Sunday 3 PM',
                location: 'Camp Site',
                description: 'A transformative weekend designed specifically for youth ages 13-25. Experience dynamic worship, relevant teaching, outdoor activities, and spiritual growth.',
                details: [
                    'Worship sessions led by youth bands',
                    'Interactive workshops and discussions',
                    'Outdoor adventure activities',
                    'Small group mentoring'
                ],
                registrationLink: '#',
                image: 'https://images.unsplash.com/photo-1529156069898-49953e39b3ac?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
            },
            'couples-retreat': {
                title: 'Marriage Enrichment Retreat',
                date: 'April 5-7, 2024',
                time: 'Friday 6 PM - Sunday 2 PM',
                location: 'Retreat Center',
                description: 'Strengthen your marriage through biblical teaching, couples activities, and intentional time together in a peaceful retreat setting.',
                details: [
                    'Marriage enrichment sessions',
                    'Couples counseling available',
                    'Recreational activities together',
                    'Gourmet meals included'
                ],
                registrationLink: '#',
                image: 'https://images.unsplash.com/photo-1577896851231-70ef18881754?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'
            }
        };
        
        // Initialize
        setupEvents();
        
        function setupEvents() {
            // Add event listeners
            addEventListeners();
            
            // Initialize calendar
            renderCalendar();
            
            // Set up scroll detection for animation
            setupScrollDetection();
        }
        
        function addEventListeners() {
            // View toggle buttons
            viewToggleBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const view = this.getAttribute('data-view');
                    switchView(view);
                });
            });
            
            // Load more events
            loadMoreBtn.addEventListener('click', loadMoreEvents);
            
            // Calendar navigation
            prevMonthBtn.addEventListener('click', () => navigateCalendar(-1));
            nextMonthBtn.addEventListener('click', () => navigateCalendar(1));
            
            // Share buttons
            eventShareBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const eventId = this.getAttribute('data-event');
                    shareEvent(eventId);
                });
            });
            
            // Event registration/volunteer buttons
            document.querySelectorAll('.event-register-btn, .event-volunteer-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const eventCard = this.closest('.event-card');
                    const eventName = eventCard.querySelector('.event-name').textContent;
                    openEventModal(eventName.toLowerCase().replace(/[^a-z0-9]+/g, '-'));
                });
            });
            
            // Calendar day clicks
            calendarDays.addEventListener('click', handleCalendarDayClick);
            
            // Modal close
            modalCloseBtn.addEventListener('click', closeEventModal);
            
            // Close modal when clicking outside
            eventModal.addEventListener('click', function(e) {
                if (e.target === eventModal) {
                    closeEventModal();
                }
            });
            
            // Escape key to close modal
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && eventModal.classList.contains('active')) {
                    closeEventModal();
                }
            });
        }
        
        function switchView(view) {
            if (view === currentView) return;
            
            currentView = view;
            
            // Update active button
            viewToggleBtns.forEach(btn => {
                if (btn.getAttribute('data-view') === view) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
            
            // Show/hide views
            if (view === 'grid') {
                calendarView.classList.remove('active');
                setTimeout(() => {
                    gridView.classList.add('active');
                }, 300);
            } else {
                gridView.classList.remove('active');
                setTimeout(() => {
                    calendarView.classList.add('active');
                }, 300);
            }
        }
        
        function loadMoreEvents() {
            // In a real application, this would load more events from an API
            // For now, we'll just show a message
            loadMoreBtn.innerHTML = '<span>More events coming soon!</span>';
            loadMoreBtn.style.opacity = '0.7';
            loadMoreBtn.style.cursor = 'default';
            loadMoreBtn.disabled = true;
        }
        
        function renderCalendar() {
            // Clear existing days
            calendarDays.innerHTML = '';
            
            // Set month/year header
            const monthNames = [
                'January', 'February', 'March', 'April', 'May', 'June',
                'July', 'August', 'September', 'October', 'November', 'December'
            ];
            
            currentMonthYear.textContent = `${monthNames[currentMonth]} ${currentYear}`;
            
            // Get first day of month
            const firstDay = new Date(currentYear, currentMonth, 1);
            const lastDay = new Date(currentYear, currentMonth + 1, 0);
            
            // Get day of week for first day (0 = Sunday, 6 = Saturday)
            const firstDayOfWeek = firstDay.getDay();
            
            // Get today's date
            const today = new Date();
            const isToday = (day) => {
                return day === today.getDate() && 
                       currentMonth === today.getMonth() && 
                       currentYear === today.getFullYear();
            };
            
            // Add empty cells for days before first day of month
            for (let i = 0; i < firstDayOfWeek; i++) {
                const emptyDay = document.createElement('div');
                emptyDay.className = 'calendar-day empty';
                calendarDays.appendChild(emptyDay);
            }
            
            // Add days of month
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                
                // Check if today
                if (isToday(day)) {
                    dayElement.classList.add('today');
                }
                
                // Create date string for event lookup
                const dateStr = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                // Add day number
                const dayNumber = document.createElement('div');
                dayNumber.className = 'calendar-day-number';
                dayNumber.textContent = day;
                dayElement.appendChild(dayNumber);
                
                // Check for events on this day
                if (calendarEvents[dateStr]) {
                    const eventsDot = document.createElement('div');
                    eventsDot.className = 'calendar-event-dot';
                    
                    // Set color based on event type
                    const color = calendarEvents[dateStr].color;
                    if (color === 'lime-green') {
                        eventsDot.style.background = 'var(--lime-green)';
                    } else if (color === 'orange') {
                        eventsDot.style.background = 'var(--orange)';
                    } else {
                        eventsDot.style.background = color;
                    }
                    
                    // Create events container
                    const eventsContainer = document.createElement('div');
                    eventsContainer.className = 'calendar-day-events';
                    eventsContainer.appendChild(eventsDot);
                    dayElement.appendChild(eventsContainer);
                    
                    // Add data attribute for event title
                    dayElement.setAttribute('data-event', dateStr);
                    dayElement.setAttribute('title', calendarEvents[dateStr].title);
                }
                
                calendarDays.appendChild(dayElement);
            }
        }
        
        function navigateCalendar(direction) {
            currentMonth += direction;
            
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            
            renderCalendar();
        }
        
        function handleCalendarDayClick(e) {
            const dayElement = e.target.closest('.calendar-day');
            if (!dayElement || dayElement.classList.contains('empty')) return;
            
            const eventDate = dayElement.getAttribute('data-event');
            if (eventDate && calendarEvents[eventDate]) {
                // Show event details
                alert(`${calendarEvents[eventDate].title} on ${formatDate(eventDate)}`);
            }
        }
        
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
        }
        
        function shareEvent(eventId) {
            if (!eventDetails[eventId]) return;
            
            const event = eventDetails[eventId];
            const shareText = `Join us for ${event.title} at TCI on ${event.date}`;
            const shareUrl = window.location.href;
            
            if (navigator.share) {
                // Use Web Share API if available
                navigator.share({
                    title: event.title,
                    text: shareText,
                    url: shareUrl
                });
            } else {
                // Fallback to copying to clipboard
                const textToCopy = `${shareText}\n\n${shareUrl}`;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    alert('Event link copied to clipboard!');
                });
            }
        }
        
        function openEventModal(eventId) {
            if (!eventDetails[eventId]) return;
            
            const event = eventDetails[eventId];
            
            const modalContent = `
                <div class="event-modal-header">
                    <img src="${event.image}" alt="${event.title}" class="event-modal-image">
                    <h3 class="event-modal-title">${event.title}</h3>
                </div>
                
                <div class="event-modal-info">
                    <div class="info-item">
                        <span class="info-icon">üìÖ</span>
                        <span class="info-text">${event.date}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">‚è∞</span>
                        <span class="info-text">${event.time}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-icon">üìç</span>
                        <span class="info-text">${event.location}</span>
                    </div>
                </div>
                
                <div class="event-modal-description">
                    <h4>About This Event</h4>
                    <p>${event.description}</p>
                </div>
                
                <div class="event-modal-details">
                    <h4>Event Details</h4>
                    <ul>
                        ${event.details.map(detail => `<li>${detail}</li>`).join('')}
                    </ul>
                </div>
                
                <div class="event-modal-actions">
                    <a href="${event.registrationLink}" class="modal-register-btn" target="_blank">
                        Register Now
                    </a>
                    <button class="modal-share-btn" onclick="shareEvent('${eventId}')">
                        üì§ Share Event
                    </button>
                </div>
            `;
            
            document.getElementById('eventModalBody').innerHTML = modalContent;
            eventModal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Add styles for modal content
            const style = document.createElement('style');
            style.textContent = `
                .event-modal-image {
                    width: 100%;
                    height: 300px;
                    object-fit: cover;
                    border-radius: 15px;
                    margin-bottom: 20px;
                }
                
                .event-modal-title {
                    font-size: 2rem;
                    color: var(--lime-green);
                    margin-bottom: 20px;
                    font-weight: 900;
                }
                
                .event-modal-info {
                    display: flex;
                    flex-direction: column;
                    gap: 15px;
                    margin-bottom: 30px;
                    padding: 20px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 15px;
                }
                
                .info-item {
                    display: flex;
                    align-items: center;
                    gap: 15px;
                    color: rgba(255, 255, 255, 0.8);
                }
                
                .info-icon {
                    font-size: 1.2rem;
                }
                
                .event-modal-description,
                .event-modal-details {
                    margin-bottom: 30px;
                }
                
                .event-modal-description h4,
                .event-modal-details h4 {
                    font-size: 1.5rem;
                    color: var(--orange);
                    margin-bottom: 15px;
                    font-weight: 700;
                }
                
                .event-modal-description p {
                    color: rgba(255, 255, 255, 0.8);
                    line-height: 1.6;
                }
                
                .event-modal-details ul {
                    color: rgba(255, 255, 255, 0.8);
                    padding-left: 20px;
                    line-height: 1.6;
                }
                
                .event-modal-details li {
                    margin-bottom: 10px;
                }
                
                .event-modal-actions {
                    display: flex;
                    gap: 20px;
                    margin-top: 30px;
                }
                
                .modal-register-btn {
                    flex: 1;
                    padding: 16px;
                    background: var(--lime-green);
                    color: #000;
                    text-decoration: none;
                    border-radius: 50px;
                    font-weight: 700;
                    text-align: center;
                    transition: all 0.3s ease;
                }
                
                .modal-register-btn:hover {
                    transform: scale(1.05);
                    box-shadow: 0 10px 20px rgba(50, 205, 50, 0.3);
                }
                
                .modal-share-btn {
                    flex: 1;
                    padding: 16px;
                    background: rgba(255, 255, 255, 0.1);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    border-radius: 50px;
                    color: var(--white);
                    font-weight: 700;
                    cursor: pointer;
                    transition: all 0.3s ease;
                }
                
                .modal-share-btn:hover {
                    background: rgba(255, 255, 255, 0.2);
                    border-color: var(--lime-green);
                }
            `;
            
            document.head.appendChild(style);
        }
        
        function closeEventModal() {
            eventModal.classList.remove('active');
            document.body.style.overflow = '';
        }
        
        function setupScrollDetection() {
            let ticking = false;
            
            function checkScroll() {
                const scrollY = window.pageYOffset || document.documentElement.scrollTop;
                const heroHeight = window.innerHeight;
                const eventsProgress = Math.min(Math.max((scrollY - heroHeight * 5.5) / (heroHeight * 0.5), 0), 1);
                
                // Show events section
                if (eventsProgress > 0.2 && !eventsShown) {
                    eventsShown = true;
                    eventsTitle.classList.add('visible');
                    eventCards.forEach(card => {
                        card.classList.add('visible');
                    });
                } else if (eventsProgress <= 0.2 && eventsShown) {
                    eventsShown = false;
                    eventsTitle.classList.remove('visible');
                    eventCards.forEach(card => {
                        card.classList.remove('visible');
                    });
                }
                
                ticking = false;
            }
            
            window.addEventListener('scroll', function() {
                if (!ticking) {
                    window.requestAnimationFrame(checkScroll);
                    ticking = true;
                }
            });
            
            // Initial check
            checkScroll();
        }
    }
})();
</script>